{
  "id": "level3-mission5",
  "level": 3,
  "title": "Selective Grouping",
  "description": "Use GROUP BY with HAVING clause to filter aggregated results and find overcrowded districts.",
  "story": "City planners need to identify districts with more than 2 residents. Use GROUP BY with HAVING to filter after aggregation (WHERE filters before, HAVING filters after).",
  "hint": "HAVING is like WHERE but for aggregated results. SELECT district, COUNT(*) FROM citizens GROUP BY district HAVING COUNT(*) > 2;",
  "xpReward": 1800,
  "tableSetup": [
    "DROP TABLE IF EXISTS citizens CASCADE;",
    "CREATE TABLE citizens (id SERIAL PRIMARY KEY, name VARCHAR(100), age INT, district VARCHAR(50));",
    "INSERT INTO citizens (name, age, district) VALUES ('Alice Johnson', 28, 'Downtown'), ('Bob Smith', 35, 'Downtown'), ('Charlie Brown', 42, 'Uptown'), ('Diana Prince', 30, 'Downtown'), ('Eve Anderson', 33, 'Midtown'), ('Frank Miller', 29, 'Downtown');"
  ],
  "validationRules": {
    "requiredKeywords": ["GROUP", "BY", "HAVING", "COUNT"],
    "expectedColumns": ["district"],
    "minRows": 1
  }
}
